<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="Exploration" content="Code pour le projet de visualisation Exo x Polytechnique Montréal">
        <title>Achalandage et ponctualité des lignes de bus 9 et 22 de la couronne Nord de Montréal</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://use.typekit.net/gmf8aij.css">
        <link rel="stylesheet" href="assets/typography.css">
        <link rel="stylesheet" href="assets/style.css">

      </head>

      <body  style="background-color: #fafafa;">
        <main>

          
          
        <a href="index.html" class="button"><button style="align-items:center;display: flex;font-family: 'myriad-pro';"><svg style="margin-right:.5cm" xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-arrow-left-circle" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
          </svg> Retour</button></a>
          <h2 style="font-size:30px">Achalandage et ponctualité des lignes de bus 9 et 22 | Couronne Nord de Montréal</h2>
          
          <div class="container">
            
            <div class="row align-items-left form-group" >
              <p style="margin-left:-10em" class="col">Ligne :</p>
              <select class="col form-select" id="line-dropdown" aria-label="Ligne">
                <option selected value="9">9</option>
                <option value="22">22</option>
              </select>
              <p class="col">Direction :</p>
              <select class="col-3 form-select" id="direction-dropdown" aria-label="Direction">
                <option selected value="Métro Montmorency">Station Montmorency</option>
                <option value="Lafontaine Via Gare  Saint-Jérôme">Gare Saint Jérome</option>
              </select>
              <p class="col">Indicateur :</p>
              <select class="col form-select" id="indicateur" aria-label="Indicateur">
                <option selected value="IndiceMixte">Combo</option>
                <option value="Ponctualite">Ponctualité</option>
                <option value="Achalandage">Achalandage</option>
              </select>
            </div>
            <div><svg class="help" xmlns="http://www.w3.org/2000/svg" width="30" height="19" fill="#484848" class="bi bi-info-circle" style="margin-left: auto; 
            margin-right: 3;display:flex;margin-top:1em;margin-bottom:1em" data-toggle="modal" data-target="#modalHeatmap" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
              <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
            </svg>
          
        </div><div class="modal fade" id="modalHeatmap" tabindex="-1" aria-labelledby="modalHeatmapLabel" aria-hidden="true">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="modalHeatmapLabel">Heatmap des indicateurs</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true" style="color:rgb(255, 255, 255);">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body" style="font-family:sans-serif; font-size:13px">
                    Cette visualisation permet de détecter les voyages, ou les arrêts où l'indicateur choisi présente une valeur extrème pour une ligne et une direction donnée.
                    Les indicateurs possibles sont :
                    <ul>
                      <li><b>La ponctualité</b></li>
                      <li><b>L'achalandage</b></li>
                      <li><b>Un combo des deux données</b></li>
                    </ul>
                    En déplacant son curseur sur les rectangles de couleur, des informations concernant les valeurs moyennes de l'indicateur choisi apparaissent. <img style="max-width : 100%;
                height : auto;" src="/assets/image/heatmap.png" alt="Quantiles des retards et achalandage">
              </div>
            </div>
          </div>
        </div> </div>
          <div class="viz-container">
            <!--<div class="graph" id="map">
              <svg class="main-svg"></svg>
            </div>-->
            <div id="viz1-container">
              <div id="heatmap-svg-container">
                <svg id="heatmap-svg">svg</svg>
              </div>
              <div id="heatmap-tooltip">
                <div id="heatmap-tooltip-aligner" style="visibility:hidden;">
                  <div id="heatmap-tooltip-text">
                    text
                  </div>
                  <div id="heatmap-tooltip-histogram">
                    
                  </div>
                </div>
              </div>
            </div>
            <hr/>
            <div class="container">
              <div class="row align-items-left form-group" >
              <p style="margin-left:-10em;max-width: 18%;" class="col">Trajet :</p>
              <select style="max-width: 15%;" class="col form-select" id="traject-dropdown" aria-label="Ligne">
                <!--To be récupéré automatiquement-->
                <option selected value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </div>
            <div class="row align-items-left"><svg class="help" xmlns="http://www.w3.org/2000/svg" width="30" height="19" fill="#484848" class="bi bi-info-circle" style="margin-left: auto; 
              margin-right: 3;display:flex;margin-top:0em;margin-bottom:1em" data-toggle="modal" data-target="#modalCandle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
              </svg>
              
            </div></div>
            <div id="candlestick-graph-container"></div><div class="modal fade" id="modalCandle" tabindex="-1" aria-labelledby="modalCandleLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCandlelLabel">Candel graph | Variations de ponctualité</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true" style="color:rgb(255, 255, 255);">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body" style="font-family:sans-serif; font-size:13px">
                    Cette visualisation permet, pour chaque trajet spécifique à une ligne et une direction, d'analyser en détail l'évolution du retard du bus, en parallèle du nombre de montants moyen.
                    <br>En déplacant son curseur sur les rectangles de couleur, on peut lire la valeur correspondant au nombre de minutes perdues ou gagné par rapport à l'arrêt précédent, et au nombre de personnes qui sont montés à l'arrêt en question.
                    <br>Ceci permet de se rendre compte de l'impact éventuel de l'impact des montants sur le retard d'un trajet.<img style="max-width : 100%;
                    height : auto;" src="/assets/image/candle.png" alt="Quantiles des retards et achalandage">
                  </div>
                </div>
              </div>
            </div>
          </div> 

            
            
          </div>
        </main>
        <script src="https://d3js.org/d3.v5.js"></script>
        <script type="module" src="exploration.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
        crossorigin="anonymous"></script>
      </body>
</html>
